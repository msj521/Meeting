
<style type="text/css">
  dl,
	dd,
	dt {
		margin: 0;
		padding: 0;
	}

	.conter980 {
		width: 1000px !important;
		margin: 0 auto;
	}

	.conter960 {
		width: 1000px !important;
		margin: 0 auto;
	}

	.str4 a {
		margin-right: 10px;
	}

	.str4 a img {
		width: auto;
		height: auto;
		max-width: 100%;
		max-height: 100%;
	}

	.meet-navbarfixed-top {
		width: 100%;
		height: 80px;
		position: fixed;
		top: 0;
		background: rgba(6, 114, 227, 1);
		z-index: 10;
	}

	.meet-margin {
		width: 1000px;
		margin: 0 auto;
	}

	.meet-nav-container li {
		float: left;
		width: 125px;
    text-align: center;
    height: 80px;
  }
  .meet-nav-container li.active{background:rgba(35,35,35,0.2);}

	.meet-nav-container li:hover {
		background: rgba(35, 35, 35, 0.2);
	}

	.meet-nav-container li:hover dd {
		display: block;
	}

	.meet-nav-container li dd {
		display: none;
		transition: all .3s ease;
	}

	.meet-nav-container li dl dt {
		height: 100%;
		box-sizing: border-box;
		padding-top: 4px;
  }
  .meet-nav-container li dl dt span{display: block;width: 100%;height: 100%;}
  .meet-nav-container li dl dt span a{display: block;width: 100%;height: 100%;}

	.meet-nav-container li dl dt a {
		color: #fff;
	}

	.meet-nav-container li dl dt .meet_nav_b {
		width: 60px;
		height: 4px;
		margin: 0 auto;
		background: rgba(255, 255, 255, 1);
		display: none;
	}

	.meet-nav-container li:hover dl dt .meet_nav_b {
		display: block;
	}


	.meet-nav-container li span {
		font: 500 18px/72px 'STHeitiSC-Medium';
		color: rgba(255, 255, 255, 1);
	}

	.meet_second_nav {
		background: rgba(11, 98, 188, 1);
		padding-top: 10px;
	}

	.meet_second_nav p {
		margin: 0;
		padding: 0 0 10px;
		height: 20px;
		box-sizing: content-box;
	}

	.meet_second_nav p a {
		font: 500 14px/20px 'PingFangSC-Medium';
		color: rgba(255, 255, 255, 1);
		cursor: pointer;
	}

	.meet_nav_fill {
		height: 80px;
	}
</style>

<div class="meet-navbarfixed-top">
    <div class="meet-margin meet-margin-nav">
      <ul class="meet-nav-container">
  
      </ul>
    </div>
  </div>
<div class="meet_nav_fill"></div>

<script>
  var navLlist = Array;
  navLlist = [<?php echo $html ?>];//后端返回的导航数据
  $(function () {
    str = "";
    var navlength = 'width:'+(navLlist.length*125)+'px';
    //根据导航栏的数目设置导航栏的宽度
    $('.meet-margin').attr({style:navlength});
    //对数据进行处理拼接渲染
    for(var i=0;i<navLlist.length;i++){
      if(navLlist[i].subMenu == ''){
        str += `
        <li>
          <dl>
            <dt><span><a href="${navLlist[i].url}?convention_id=${convention_id}&nav_id=${navLlist[i].id}">${navLlist[i].name}</a></span>
              <div class="meet_nav_b"></div>
            </dt>
          </dl>
        </li>
        `
      }else{
        str += `
              <li>
                <dl>
                  <dt><span><a href="${navLlist[i].url}?convention_id=${convention_id}&nav_id=${navLlist[i].id}">${navLlist[i].name}</a></span>
                    <div class="meet_nav_b"></div>
                  </dt>
                  <dd>
                    <div class="meet_second_nav">`
                      for(var j=0;j<navLlist[i].subMenu.length; j++){
                        str += `<p><a href="${navLlist[i].subMenu[j].url}?convention_id=${convention_id}&nav_id=${navLlist[i].id}&suid=${navLlist[i].subMenu[j].suid}">${navLlist[i].subMenu[j].name}</a></p>`;
                      }
                    str += `</div>
                                </dd>
                              </dl>
                            </li>`
      }

    }
    $('.meet-nav-container').html(str);
    //根据路由判断导航高亮
    var meetUrl = document.location.search;//获取路由的携带参数
    //为空的时候，会议首页中心的导航高亮
    if(!meetUrl){
      $('.meet-nav-container li').eq(0).addClass('active').siblings().removeClass('active');
    }else{
      //携带参数没有nav_id时，让导航栏第一个高亮
      if(meetUrl.split('nav_id=').length<2){
        $('.meet-nav-container li').eq(0).addClass('active').siblings().removeClass('active');
      }else{
        var meetNavId = meetUrl.split('nav_id=')[1][0]-1;//判断携带参数对应的nav_id的值来渲染对应导航栏的高亮
        $('.meet-nav-container li').eq(meetNavId).addClass('active').siblings().removeClass('active')
      }
    }
  })
</script>