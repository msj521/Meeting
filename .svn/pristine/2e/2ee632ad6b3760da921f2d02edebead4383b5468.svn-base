<style type="text/css">
    .conter1000 {
        width: 1000px;
        margin: 0 auto;
        padding: 60px 0;
        background: #fff;
    }
    
    .conter1000::after {
        content: "";
        display: block;
        clear: both;
    }
    
    .meet-center {
        width: 100%;
        background: rgba(255, 255, 255, 1)
    }
    
    .meet-center-ul {
        width: 100%;
    }
    
    .meet-center-ul li:hover {
        box-shadow: 0px 0px 30px 0px rgba(6, 114, 227, 0.3);
    }
    
    .meet-center-ul li:hover .meet_login {
        background-image: url(static/web/images/file_copy.png)
    }
    
    .meet-center-ul li:hover .meet_paper {
        background-image: url(static/web/images/newspaper_copy.png)
    }
    
    .meet-center-ul li:hover .meet_user {
        background-image: url(static/web/images/id-card_copy.png)
    }
    
    .meet-center-ul li:hover .meet_select {
        background-image: url(static/web/images/browser_active.png)
    }
    
    .meet-center-ul li:hover p {
        color: #0C7753;
    }
    
    .meet-center-li {
        width: 220px;
        height: 200px;
        box-shadow: 0px 0px 30px 0px rgba(0, 92, 244, 0.1);
        border-radius: 10px;
        float: left;
        margin-right: 40px;
    }
    
    .meet-center-ul li:last-child {
        margin-right: 0;
    }
    
    .meet-center-li a {
        display: block;
        width: 100%;
        height: 100%;
    }
    
    .meet_login {
        background: #fff url(static/web/images/file.png) 80px 40px no-repeat;
    }
    
    .meet_paper {
        background: #fff url(static/web/images/newspaper.png) 80px 40px no-repeat;
    }
    
    .meet_user {
        background: #fff url(static/web/images/id-card.png) 80px 40px no-repeat;
    }
    
    .meet_select {
        background: #fff url(static/web/images/browser.png) 80px 40px no-repeat;
    }
    /* .meet-center-li img {
		display: block;
		margin: 40px auto;
	} */
    
    .meet-center-li p {
        text-align: center;
        height: 33px;
        font-size: 24px;
        font-family: PingFangSC-Medium;
        font-weight: 500;
        color: rgba(72, 78, 94, 1);
        line-height: 33px;
        padding-top: 127px;
    }
    
    .guest_banner {
        position: relative;
    }
    
    .swiper-container-guest {
        width: 920px;
        height: 120px;
        margin: 0 auto;
        overflow: hidden;
        position: relative;
    }
    
    .swiper-container-guest img {
        width: 80px;
        height: 80px;
        display: block;
        margin: 20px auto;
        border-radius: 50%;
        box-shadow: 0px 0px 14px 0px rgba(12, 119, 83, 0.3);
        transition: .3s;
    }
    
    .swiper-container-guest .swiper-slide-active img {
        width: 100px;
        height: 100px;
        margin: 10px auto;
    }
    
    .guest_btn {
        width: 40px;
        height: 40px;
        border-radius: 50%;
        position: absolute;
        transition: .3s;
        cursor: pointer;
        box-sizing: border-box;
        border: 0;
    }
    
    .guest_btn_left {
        left: 0;
        top: 30%;
        background: #fff url(static/web/images/left_uncheck.png) center no-repeat;
    }
    
    .guest_btn_left:hover {
        background: #fff url(static/web/images/left_check.png) center no-repeat;
    }
    
    .guest_btn_right {
        right: 0;
        top: 30%;
        background: #fff url(static/web/images/right_unckeck.png) center no-repeat;
    }
    
    .guest_btn_right:hover {
        background: #fff url(static/web/images/right_check.png) center no-repeat;
    }
    
    .swiper-wrapper-guest {
        width: 100%;
        height: 100%;
    }
    
    .swiper-wrapper-guest .swiper-slide {
        width: 184px !important;
        height: 100%;
    }
</style>
<!-- 会议报名 -->
<div class="meet-center">
    <div class="conter1000">
        <ul class="meet-center-ul" style="height:200px;">
            <li class="meet-center-li meet_login_li">
                <!-- <a class="meet_login">
                        <p>会议报名</p>
                    </a> -->
            </li>
            <li class="meet-center-li meet_paper_li">
                <!-- <a class="meet_paper">
                        <p>论文发表</p>
                    </a> -->
            </li>
            <li class="meet-center-li meet_user_li">
                <!-- <a class="meet_user">
                        <p>个人中心</p>
                    </a> -->
            </li>
            <li class="meet-center-li meet_select_li">
                <!-- <a class="meet_select">
                    <p>评优报名</p>
                </a> -->
            </li>
        </ul>
        <h3 style="text-align:center;font-size:30px;font-family:MicrosoftYaHei-Bold;font-weight:bold;color:rgba(72,78,94,1);line-height:40px;margin:40px 0;">演讲嘉宾</h3>
        <div class="guest_banner">
            <div class="swiper-container-guest">
                <div class="swiper-wrapper-guest">

                </div>
            </div>
            <button class="guest_btn_left guest_btn"></button>
            <button class="guest_btn_right guest_btn"></button>
        </div>
        <div class="guest_msg" style="text-align:center;font-size:24px;font-family:MicrosoftYaHei-Bold;font-weight:bold;color:rgba(72,78,94,1);line-height:31px;margin:30px 0 30px;height: 31px;"></div>
        <a href="/expertlist?convention_id=47&nav_id=4&suid=1" class="guest_to_more">更多嘉宾</a>
    </div>
</div>
<script>
    $(function() {
        var guest_msg_url = 'api/convention/expert_list'; //演讲嘉宾数据接口
        var interval_time = null;
        var guest_data = {
            convention_id: convention_id
        }
        ajax_all_Filed("true", "true", "GET", guest_msg_url, "json", guest_data, guest_banner_func);

        function guest_banner_func(data) {
            var num = data.data.expert_list.length;
            var expert_list = data.data.expert_list;
            var str = '';
            for (var i = 0; i < num; i++) {
                str += '<div class="swiper-slide"><img src="' + data.data.expert_list[i].web_image_url + '" alt=""></div>'
            }
            $('.swiper-wrapper-guest').html(str);
            var mySwiper = new Swiper('.swiper-container-guest', {
                    wrapperClass: 'swiper-wrapper-guest',
                    loop: true, //可选选项，开启循环
                    simulateTouch: true,
                    slidesPerView: 5,
                    centeredSlides: true,
                    onSlideClick: function(swiper) {
                        if (swiper.clickedSlideLoopIndex > num - 2) {
                            mySwiper.swipeTo(swiper.clickedSlideLoopIndex - num, 300, true);
                        } else if (swiper.clickedSlideLoopIndex < -3) {
                            mySwiper.swipeTo(num + swiper.clickedSlideLoopIndex, 300, true);
                        } else {
                            mySwiper.swipeTo(swiper.clickedSlideLoopIndex, 300, true);
                        }
                    },
                    onSlideChangeEnd: function(swiper) {
                        $('.guest_msg').html(expert_list[computeIndex(swiper.activeLoopIndex, num)].expert_name);
                        clearInterval(interval_time);
                        auto_play();
                    }
                })
                //默认居中的active
            mySwiper.swipeTo(Math.floor(num / 2), 0, false);
            $('.guest_msg').html(expert_list[Math.floor(num / 2)].expert_name);

            $('.guest_btn_left').click(function() {
                // left lock
                // if (mySwiper.activeLoopIndex <= 2) {
                //     mySwiper.swipeTo(-3, 300, false);
                // } else {
                //left -5
                if (mySwiper.activeLoopIndex - 5 < 0) {
                    mySwiper.swipeTo(mySwiper.activeLoopIndex - 5 + num, 300, false);
                } else {
                    mySwiper.swipeTo(mySwiper.activeLoopIndex - 5, 300, false);
                }
                // }
                $('.guest_msg').html(expert_list[computeIndex(mySwiper.activeLoopIndex, num)].expert_name);

                clearInterval(interval_time);
                auto_play();
            })
            $('.guest_btn_right').click(function() {
                move_banner();
                clearInterval(interval_time);
                auto_play();
            })

            auto_play();

            function auto_play() {
                interval_time = setInterval(function() {
                    move_banner()
                }, 6000);
            }

            function move_banner() {
                //right lock 
                // if (mySwiper.activeLoopIndex > num - 2) {
                //     mySwiper.swipeTo(num - 2, 300, false);
                // } else {
                //     // left to right
                //     if (mySwiper.activeLoopIndex > num - 7) {
                //         mySwiper.swipeTo(num - 2, 300, false);
                //     } else {
                //         //right +5
                //         mySwiper.swipeTo(mySwiper.activeLoopIndex + 5, 300, false);
                //     }
                // }
                if (mySwiper.activeLoopIndex + 5 > num - 2 && mySwiper.activeLoopIndex + 5 < num + 2) {
                    mySwiper.swipeTo(num - 2 - (mySwiper.activeLoopIndex + 5), 300, false);
                } else {
                    mySwiper.swipeTo(computeIndex(mySwiper.activeLoopIndex + 5, num), 300, false);
                }
                $('.guest_msg').html(expert_list[computeIndex(mySwiper.activeLoopIndex, num)].expert_name);
            }
        }

        function computeIndex(index, num) {
            if (index < 0) {
                return num + index;
            }
            if (index > num) {
                return index - num;
            } else {
                return index;
            }
        }


    })
</script>